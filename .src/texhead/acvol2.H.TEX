\documentclass[11pt,a4paper]{report}

\usepackage[a4paper,textwidth=37em,tmargin=26mm,bmargin=45mm]{geometry}
\usepackage{calc}
\usepackage{amsmath,xltxtra,fontspec,xunicode,tocloft,tabu,datetime2,multicol}
\setlength{\columnsep}{3em}

\usepackage{titlesec}

\usepackage{lipsum,paralist,enumitem}
\setdefaultleftmargin{2em}{2em}{1em}{1em}{1em}{1em}

\usepackage{datetime2}
\usepackage[hidelinks]{hyperref}
\hypersetup{
    colorlinks=false,
    pdfpagemode=FullScreen
}


\usepackage{xeCJK,xeCJKfntef}
\xeCJKsetup{PunctStyle=plain,RubberPunctSkip=false,CJKglue=\strut\hskip 0pt,CJKecglue=\strut\hskip 0.22em plus 200pt}


% =========================================
\usepackage{fancyhdr}
\usepackage{graphicx,eso-pic}

% How XeTeX mapping works....
% teckit_compile .src/texhead/brygada1918-fixtheta.map
% .src/texhead/brygada1918-fixtheta.tec


% \setmainfont[Numbers=Lining]{Libertinus Serif}
% \setromanfont[Numbers=Lining]{Libertinus Serif}
\setmainfont[Mapping={.src/texhead/brygada1918-fixtheta}]{Brygada 1918}
\setromanfont[Mapping={.src/texhead/brygada1918-fixtheta}]{Brygada 1918}
% \setmainfont[Numbers=Lining]{Source Serif Pro}
% \setromanfont[Numbers=Lining]{Source Serif Pro}
\setsansfont[Numbers=Lining,BoldFont={Inter-Bold},BoldItalicFont={Inter-BoldItalic}]{Inter}
% \setmonofont{JetBrains Mono NL}
\setmonofont{New Heterodox Mono}
\setCJKmainfont{Noto Serif CJK SC}
\setCJKromanfont{Noto Serif CJK SC}
\setCJKsansfont{Noto Sans CJK SC}
\setCJKmonofont{Noto Sans CJK SC}
% =========================================
\frenchspacing\sloppy










\usepackage{listings}
\lstset{
	basicstyle=\ttfamily\footnotesize\fontspec{JetBrains Mono NL},
	numbersep=5pt,
	backgroundcolor=\color{black!5},
	showspaces=false,
	showstringspaces=false,
	showtabs=false,
	tabsize=2,
	captionpos=b,
	breaklines=true,
	breakatwhitespace=true,
	breakautoindent=true,
	linewidth=\textwidth
}

\fancypagestyle{plain}{
    \renewcommand{\headrulewidth}{0pt}
    \renewcommand{\footskip}{19mm}
    \lhead{}
    \chead{}
    \rhead{}
    \lfoot{\small\fontspec{Old Standard TT} Neruthes Articles Collection~~\S~~Volume 2}
    \cfoot{}
    \rfoot{\small\ttfamily\fontspec{New Heterodox Mono}\leftpadnumber{\thepage}}
    % \rfoot{\small\ttfamily\fontspec{New Heterodox Mono}\thepage}
}
\newcommand{\tmpnumA}[0]{0}
\newcommand{\leftpadnumber}[1]{%
    \renewcommand{\tmpnumA}[0]{#1}%
    \ifnum \tmpnumA<10 0\tmpnumA \else%
        \tmpnumA%
    \fi%
}
% \renewcommand{\thepage}[0]{%
%     \leftpadnumber{\arabic{page}}%
% }




\setlength{\parindent}{0pt}
\setlength{\parskip}{8pt}

\graphicspath{ {/home/neruthes/DEV/ntexlibs/pic/} }

\linespread{1.0}



\hypersetup{
    colorlinks=false,
    pdftitle={Neruthes Articles Collection | Volume 2},
    pdfpagemode=FullScreen,
}
\title{Neruthes Articles Collection}
\author{Volume 2}
\date{Revision \today}





% Working with tocloft
\makeatletter
\renewcommand{\@pnumwidth}{3em}
\renewcommand{\@tocrmarg}{5em}
\makeatother
\renewcommand{\cftchapfont}{\ttfamily\small\raggedright}
\renewcommand{\cftchapfont}{\rmfamily\fontspec{Old Standard TT}\small\raggedright}
\settowidth{\cftchapnumwidth}{\cftchapfont 2222-22-22==}
\renewcommand{\cftchappagefont}{\ttfamily\small}
\setlength{\cftbeforechapskip}{1pt}
\renewcommand{\contentsname}{\chaptertitlefont\strut Contents}
\let\Contentsline\contentsline
\renewcommand{\contentsline}[3]{\Contentsline{#1}{#2}{\leftpadnumber{#3}}}



% Headings in articles
\newcommand{\altseriffont}{%
    \rmfamily
    % \fontspec[Numbers=Lining,Ligatures=TeX]{Libertinus Serif}%
    % \fontspec[Numbers=Lining,Ligatures=TeX]{NewComputerModern}%
    % \fontspec[Numbers=Lining,Ligatures=TeX]{Old Standard TT}%
}
\newcommand{\chaptertitlefont}{\altseriffont\Large\bfseries}

\newcommand{\iarticle}[2]{
    % argv: date, title
    \clearpage
    \stepcounter{chapter}
    \phantomsection
    {\small\ttfamily#1}\par\vskip 13pt
    \parbox{0.9\linewidth}{\raggedright\chaptertitlefont\strut#2}\par\vskip 30pt
    % \addcontentsline{toc}{chapter}{\numberline{#1}#2}
    \addcontentsline{toc}{chapter}{#2}
    % Other stuff...
}
\newcommand{\isection}[1]{
    \vskip 19pt plus 20pt
    \parbox{\linewidth}{\raggedright\altseriffont\bfseries\Large\strut#1}\nopagebreak\par\nopagebreak\vskip 5pt\nopagebreak
}
\newcommand{\isubsection}[1]{
    \vskip 4pt
    \parbox{\linewidth}{\raggedright\sffamily\bfseries\large\strut#1}\nopagebreak\par\nopagebreak
}







\newcommand{\mydocumentstart}[1]{

    \begin{document}
    \begin{titlepage}
        \center
        \ttfamily
        \leavevmode
        \vskip 90pt
        \includegraphics[width=28mm]{wwwsrc/neruthes-forceCircle-unpadded.png}\par
        \vskip 50pt
            {\fontsize{24pt}{24pt}\selectfont\MakeUppercase{NERUTHES}}\par\vskip 30pt
            {\normalsize\MakeUppercase{Articles Collection Volume 2}}\par
        \vfill
        \small
        \today\par
        % \par\vskip 10pt
        % \hrule
    \end{titlepage}
    \pagestyle{plain}
    \tableofcontents\clearpage





    \rmfamily
    % \input{.data/articles/list/list-002.TEX.draft}
    #1







    \clearpage\pagestyle{empty}
    \leavevmode\vfill
    \footnotesize\sffamily
    Copyright \copyright{} 2022-2025 Neruthes. All rights reserved.\par
    This collection of articles is part of the blog of Neruthes.\par
    This document may be found online at these locations:\\
    \href{https://neruthes.xyz/articles/Neruthes_articles_vol002.pdf}{neruthes.xyz}~~/~~%
    \href{https://neruthes.pages.dev/articles/Neruthes_articles_vol002.pdf}{neruthes.pages.dev}~~/~~%
    \href{https://neruthes.vercel.app/articles/Neruthes_articles_vol002.pdf}{neruthes.vercel.app}


    \end{document}

}

